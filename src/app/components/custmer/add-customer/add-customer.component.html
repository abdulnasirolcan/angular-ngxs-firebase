<app-dashboard></app-dashboard>
<router-outlet></router-outlet>
<div class="container">
  <div class="table-wrapper">
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th *ngIf="!isEdit"><h3 class="col-sm-4 mx-auto">Create Customers</h3></th>
          <th *ngIf="isEdit"><h3 class="col-sm-4 mx-auto">Edit Customers</h3></th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <div class="pt-4">
            <form [formGroup]="createCustomerForm" ngxsForm="createCustomerForm">
              <input type="hidden" formControlName="id" #id />
              <div class="form-group">
                <input
                  class="form-control col-sm-8 mx-auto"
                  formControlName="name"
                  type="text"
                  placeholder="name"
                  #name
                />
                <div
                  *ngIf="
                    createCustomerForm.controls['name'].invalid &&
                    (createCustomerForm.controls['name'].dirty || createCustomerForm.controls['name'].touched)
                  "
                  class="text-danger"
                >
                  <div *ngIf="createCustomerForm.controls['name'].errors.required">Name is required*</div>
                </div>
              </div>
              <div class="form-group">
                <input
                  class="form-control col-sm-8 mx-auto"
                  formControlName="email"
                  type="email"
                  placeholder="email"
                  #email
                />
                <div
                  *ngIf="
                    createCustomerForm.controls['email'].invalid &&
                    (createCustomerForm.controls['email'].dirty || createCustomerForm.controls['email'].touched)
                  "
                  class="text-danger"
                >
                  <div *ngIf="createCustomerForm.controls['email'].errors.required">Email is required*</div>
                </div>
              </div>
              <div class="form-group">
                <textarea
                  class="form-control col-sm-8 mx-auto"
                  formControlName="address"
                  cols="3"
                  rows="10"
                  placeholder="Address"
                  #address
                ></textarea>

                <div
                  *ngIf="
                    createCustomerForm.controls['address'].invalid &&
                    (createCustomerForm.controls['address'].dirty || createCustomerForm.controls['address'].touched)
                  "
                  class="text-danger"
                >
                  <div *ngIf="createCustomerForm.controls['address'].errors.required">Address is required*</div>
                </div>
              </div>
              <div class="form-group">
                <input
                  class="form-control col-sm-8 mx-auto"
                  formControlName="phone"
                  type="tel"
                  placeholder="phone"
                  #phone
                />
                <div
                  *ngIf="
                    createCustomerForm.controls['phone'].invalid &&
                    (createCustomerForm.controls['phone'].dirty || createCustomerForm.controls['phone'].touched)
                  "
                  class="text-danger"
                >
                  <div *ngIf="createCustomerForm.controls['phone'].errors.required">Phone is required*</div>
                </div>
              </div>
              <button
                type="button"
                class="btn btn-success btn-block col-sm-8 mx-auto mb-4"
                [disabled]="!this.createCustomerForm.valid"
                (click)="saveCustomer(name.value, email.value, address.value, phone.value)"
              >
                Save Customer
              </button>
            </form>
          </div>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<!-- {{ customers | async | json }} -->
<!-- {{ (customers | async)[0].email | json }} -->
